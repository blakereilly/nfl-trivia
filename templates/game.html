<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FumbLe - The Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        html, body {
            margin: 0; padding: 0; width: 100%;
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #0d1218, #1f232b, #001a33);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #f5f5f5;
            min-height: 100%;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .page-wrapper {
            position: relative; width: 100%; min-height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px; overflow-x: hidden;
        }
        .page-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
            padding: 10px 25px;
            z-index: 10;
        }
        .page-header h1 {
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 0 0 10px rgba(0, 242, 234, 0.5), 0 0 20px rgba(0, 242, 234, 0.3);
        }
        .header-buttons {
            display: flex;
            gap: 10px;
        }
        .main-content {
            display: flex; flex-direction: column; align-items: center;
            width: 100%; max-width: 1200px; text-align: center;
            background: rgba(42, 46, 52, 0.5);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37), 0 0 15px rgba(0, 242, 234, 0.1);
        }
        .player-info-container {
            display: flex; flex-wrap: wrap; justify-content: center; align-items: center;
            gap: 10px 20px; margin: 10px 0 20px 0; visibility: hidden;
        }
        #playerPosition { font-size: 1.5rem; color: #00f2ea; font-weight: 600; }
        .position-badge {
            display: inline-block; background-color: #2c7be5; color: #ffffff;
            padding: 5px 12px; border-radius: 12px; font-size: 1.4rem;
            margin-left: 8px; vertical-align: middle;
        }
        .difficulty-badge {
            padding: 6px 14px; border-radius: 12px; font-size: 1.2rem;
            font-weight: 600;
        }
        .difficulty-easy { background-color: #4CAF50; color: white; }
        .difficulty-medium { background-color: #FFC107; color: #1a1e24; }
        .difficulty-hard { background-color: #F44336; color: white; }

        .game-controls {
            display: flex; flex-direction: column; align-items: center; margin-bottom: 15px; width: 100%; max-width: 350px;
            gap: 10px;
        }
        .table-container {
            overflow-x: auto; width: 100%; margin: 15px 0;
            border-radius: 12px;
            border: 1px solid rgba(0, 242, 234, 0.1);
        }
        #statsTable { width: 100%; border-collapse: collapse; font-size: 14px; min-width: 600px; }
        #statsTable th, #statsTable td { border: none; border-bottom: 1px solid #2a2e34; padding: 14px; white-space: nowrap; text-align: center; }
        #statsTable th { background-color: #2c7be5; color: white; font-weight: 600; }
        #statsTable th:first-child { border-radius: 12px 0 0 0; }
        #statsTable th:last-child { border-radius: 0 12px 0 0; }
        #statsTable tr:last-child td:first-child { border-radius: 0 0 0 12px; }
        #statsTable tr:last-child td:last-child { border-radius: 0 0 12px 0; }
        #statsTable tr:nth-child(even) { background-color: rgba(26, 30, 36, 0.7); }
        #statsTable tr { transition: background-color 0.2s ease; }
        #statsTable tr:hover { background-color: #1f232b; }
        .highlight-green { background-color: #4CAF50 !important; color: white !important; font-weight: 600; }
        .highlight-yellow { background-color: #FFC107 !important; color: #1a1e24 !important; font-weight: 600; }
        .highlight-red { background-color: #F44336 !important; color: white !important; font-weight: 600; }
        
        input, button { padding: 12px; font-size: 16px; margin: 5px; border-radius: 8px; border: none; width: 100%; transition: all 0.3s ease; }
        button { background-color: #2c7be5; color: white; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        button:hover:not(:disabled) { background-color: #1a5bb8; transform: translateY(-3px); box-shadow: 0 6px 20px rgba(44, 123, 229, 0.4), 0 0 15px rgba(44, 123, 229, 0.5); }
        button:disabled { background-color: #555; cursor: not-allowed; color: #999; border-color: #555; }
        
        .hint-button { background-color: transparent; border: 2px solid #2c7be5; color: #2c7be5; }
        .hint-button:hover:not(:disabled) { background-color: #2c7be5; color: white; }
        input[type="text"] { background-color: #2a2e34; color: #f5f5f5; border: 1px solid #444; }
        input[type="text"]:focus { outline: none; border-color: #00f2ea; box-shadow: 0 0 8px rgba(0, 242, 234, 0.5); }
        
        #instruction-text { font-size: 18px; min-height: 25px; font-weight: 600; visibility: hidden; }
        #feedback { margin-top: 15px; font-size: 18px; min-height: 25px; font-weight: 600; transition: color 0.4s ease-in-out; }
        #feedback.correct-guess { color: #4CAF50; }
        #feedback.incorrect-guess { color: #F44336; }
        #guesses-left-display { font-size: 1.1rem; color: #FFC107; font-weight: 600; margin-top: 5px; min-height: 20px; }

        .input-submit-container { display: flex; width: 100%; gap: 5px; align-items: flex-start; }
        .autocomplete-container { position: relative; flex-grow: 1; }
        #guessButton { width: auto; flex-shrink: 0; padding-left: 25px; padding-right: 25px; }

        #rules-button, #share-link-button {
            background: none; border: none; color: #aaa; cursor: pointer; padding: 5px;
            width: auto; transition: all 0.3s ease;
        }
        #rules-button { font-weight: bold; font-size: 24px; }
        #rules-button:hover, #share-link-button:hover {
            color: #fff; transform: scale(1.1); background: transparent; box-shadow: none;
        }
        #share-link-button svg { vertical-align: middle; }

        #copyright-notice, #data-source { position: absolute; font-size: 12px; color: #888; }
        #copyright-notice { bottom: 20px; left: 20px; z-index: 1000; font-weight: 600; }
        #data-source { bottom: 10px; right: 10px; font-size: 10px; }
        #data-source a { color: #2c7be5; text-decoration: none; }
        
        .modal { display: none; position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); backdrop-filter: blur(5px); align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: rgba(30, 35, 41, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); padding: 30px; width: 90%; max-width: 500px; border-radius: 16px; position: relative; color: white; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); text-align: center; }
        .close-button { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 28px; font-weight: bold; cursor: pointer; }
        
        .share-link-input-container { display: flex; width: 100%; margin-top: 15px; }
        #share-url-input { flex-grow: 1; background-color: #1a1e24; color: #f5f5f5; border: 1px solid #444; border-radius: 8px 0 0 8px; padding: 10px; font-size: 14px; margin: 0; }
        #copy-url-button { flex-shrink: 0; width: auto; border-radius: 0 8px 8px 0; margin: 0; font-size: 14px; padding: 10px 15px; }

        #suggestions { position: absolute; z-index: 99; background-color: #1a1e24; color: #f5f5f5; border: 1px solid #444; border-top: none; width: 100%; max-height: 200px; overflow-y: auto; text-align: left; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); border-radius: 0 0 8px 8px; display: none; }
        #suggestions div { padding: 10px; cursor: pointer; }
        #suggestions div:hover { background-color: #2c7be5; }

        .loader { border: 4px solid rgba(243, 243, 243, 0.3); border-top: 4px solid #00f2ea; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .fade-in { animation: fadeIn 0.8s ease-in-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        #share-grid { font-size: 2rem; margin: 20px 0; letter-spacing: 5px; }
        .share-buttons { display: flex; gap: 10px; justify-content: center; }

        @media (max-width: 768px) {
            .page-wrapper { padding-top: 80px; justify-content: flex-start; }
            .main-content { padding: 20px; }
            .page-header h1 { font-size: 2rem; }
            #copyright-notice { position: fixed; bottom: 10px; left: 10px; }
            #data-source { position: fixed; bottom: 5px; right: 5px; font-size: 8px; }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <header class="page-header">
            <h1>FumbLe</h1>
            <div class="header-buttons">
                <button id="rules-button">?</button>
                <button id="share-link-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                </button>
            </div>
        </header>
        
        <div class="main-content">
            <div id="loader" class="loader" style="display: none;"></div>
            
            <p id="instruction-text"></p>
            <div class="game-controls" style="visibility: hidden;">
                <div class="input-submit-container">
                    <div class="autocomplete-container">
                        <input type="text" id="guessInput" placeholder="Enter player name" disabled>
                        <div id="suggestions"></div>
                    </div>
                    <button id="guessButton" disabled>Go</button>
                </div>
                <button id="hintButton" class="hint-button" disabled>Get Hint</button>
            </div>
            <p id="feedback"></p>

            <p id="guesses-left-display" style="display: none;"></p> 
            <div class="player-info-container">
                <p id="playerPosition"></p>
                <div id="playerDifficulty" class="difficulty-badge"></div>
            </div>
            <div class="table-container" style="visibility: hidden;">
                <table id="statsTable"><thead></thead><tbody></tbody></table>
            </div>
        </div>
        
        <div id="rulesModal" class="modal"><div class="modal-content"><span id="close-rules-button" class="close-button">&times;</span><h2>How to Play FumbLe</h2><p>1. An NFL player's position and career stats will be displayed. Your goal is to guess their name.</p><p>2. You get 4 guesses. If you are stuck, you can use the "Get Hint" button but it will take away one of your guesses.</p><p>3. The order of hints will be: Conference, Division, then Team.</p><p>4. Share your results with friends!</p><p>Do you know ball?</p></div></div>
        <div id="shareModal" class="modal"><div class="modal-content"><span id="close-share-button" class="close-button">&times;</span><h2 id="share-title">Results</h2><p id="share-date"></p><div id="share-grid"></div><div class="share-buttons"><button id="share-game-button">Share Game</button><button id="copy-results-button" class="hint-button">Copy Results</button></div></div></div>
        <div id="shareLinkModal" class="modal"><div class="modal-content"><span id="close-share-link-button" class="close-button">&times;</span><h2>Share FumbLe</h2><p>Share this link with your friends to challenge them!</p><div class="share-link-input-container"><input type="text" id="share-url-input" readonly><button id="copy-url-button">Copy</button></div></div></div>
        <p id="copyright-notice">ReillyLabs &copy; 2025</p>
        <p id="data-source">Player Data from <a href="https://www.pro-football-reference.com/" target="_blank">Pro Football Reference</a></p>
    </div>

    <script>
        const instructionTextP = document.getElementById("instruction-text");
        const guessInput = document.getElementById("guessInput");
        const guessButton = document.getElementById("guessButton");
        const hintButton = document.getElementById("hintButton");
        const feedbackP = document.getElementById("feedback");
        const playerInfoContainer = document.querySelector('.player-info-container');
        const playerPositionP = document.getElementById("playerPosition");
        const playerDifficultyDiv = document.getElementById("playerDifficulty");
        const statsTable = document.getElementById("statsTable");
        const suggestionsDiv = document.getElementById("suggestions");
        const loader = document.getElementById('loader');
        const gameControls = document.querySelector('.game-controls');
        const tableContainer = document.querySelector('.table-container');
        const guessesLeftDisplay = document.getElementById('guesses-left-display');
        
        const rulesButton = document.getElementById('rules-button');
        const rulesModal = document.getElementById('rulesModal');
        const closeRulesButton = document.getElementById('close-rules-button');
        const shareModal = document.getElementById('shareModal');
        const closeShareButton = document.getElementById('close-share-button');
        const shareTitle = document.getElementById('share-title');
        const shareDate = document.getElementById('share-date');
        const shareGrid = document.getElementById('share-grid');
        const copyResultsButton = document.getElementById('copy-results-button');
        const shareGameButton = document.getElementById('share-game-button');
        const shareLinkButton = document.getElementById('share-link-button');
        const shareLinkModal = document.getElementById('shareLinkModal');
        const closeShareLinkButton = document.getElementById('close-share-link-button');
        const shareUrlInput = document.getElementById('share-url-input');
        const copyUrlButton = document.getElementById('copy-url-button');

        const columnMap = { "Year": "Yr", "G": "Games", "PPR": "PPR Pts", "PPR_Rank_by_Pos": "PPR Rank", "PassYds": "Pass Yd", "PassTD": "Pass TD", "Rec": "Rec", "RecYds": "Rec Yd", "RecTD": "Rec TD", "RushYds": "Rush Yd", "RushTD": "Rush TD", };
        let debounceTimeout;
        let shareableText = '';

        document.addEventListener('DOMContentLoaded', startGame);
        guessButton.addEventListener('click', submitGuess);
        hintButton.addEventListener('click', handleHintOrGiveUp);
        rulesButton.addEventListener('click', () => rulesModal.classList.add('active'));
        closeRulesButton.addEventListener('click', () => rulesModal.classList.remove('active'));
        rulesModal.addEventListener('click', (event) => { if (event.target === rulesModal) rulesModal.classList.remove('active'); });
        closeShareButton.addEventListener('click', () => shareModal.classList.remove('active'));
        copyResultsButton.addEventListener('click', copyResultsToClipboard);
        shareGameButton.addEventListener('click', () => { shareModal.classList.remove('active'); shareUrlInput.value = window.location.origin; shareLinkModal.classList.add('active'); });
        guessInput.addEventListener("input", debounce(handleGuessInput, 300));
        guessInput.addEventListener("keydown", function(event) { if (event.key === "Enter") { event.preventDefault(); submitGuess(); }});
        document.body.addEventListener('click', (event) => { if (!event.target.closest('.autocomplete-container')) { suggestionsDiv.style.display = 'none'; } });
        shareLinkButton.addEventListener('click', () => { shareUrlInput.value = window.location.origin; shareLinkModal.classList.add('active'); });
        closeShareLinkButton.addEventListener('click', () => shareLinkModal.classList.remove('active'));
        shareLinkModal.addEventListener('click', (event) => { if (event.target === shareLinkModal) shareLinkModal.classList.remove('active'); });
        copyUrlButton.addEventListener('click', () => { shareUrlInput.select(); shareUrlInput.setSelectionRange(0, 99999); try { document.execCommand('copy'); copyUrlButton.textContent = 'Copied!'; setTimeout(() => { copyUrlButton.textContent = 'Copy'; }, 2000); } catch (err) { console.error('Failed to copy text: ', err); } });

        async function startGame() {
            instructionTextP.textContent = "";
            instructionTextP.style.visibility = 'hidden';
            instructionTextP.classList.remove('fade-in');
            feedbackP.textContent = "";

            loader.style.display = 'block';
            gameControls.style.visibility = 'hidden';
            playerInfoContainer.style.visibility = 'hidden';
            tableContainer.style.visibility = 'hidden';
            gameControls.classList.remove('fade-in');
            playerInfoContainer.classList.remove('fade-in');
            tableContainer.classList.remove('fade-in');
            feedbackP.classList.remove('correct-guess', 'incorrect-guess');
            guessesLeftDisplay.style.display = 'none';
            hintButton.textContent = 'Get Hint';
            guessInput.disabled = true;
            guessButton.disabled = true;
            hintButton.disabled = true;

            try {
                const response = await fetch('/start_game', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({}) });
                const data = await response.json();
                loader.style.display = 'none';
                if (data.error) {
                    feedbackP.textContent = data.error;
                    return;
                }
                
                playerPositionP.innerHTML = `Position: <span class="position-badge">${data.position}</span>`;
                
                const difficulty = data.difficulty;
                playerDifficultyDiv.textContent = `Difficulty: ${difficulty.toFixed(1)}`;
                playerDifficultyDiv.className = 'difficulty-badge'; 
                if (difficulty <= 4.0) {
                    playerDifficultyDiv.classList.add('difficulty-easy');
                } else if (difficulty <= 7.5) {
                    playerDifficultyDiv.classList.add('difficulty-medium');
                } else {
                    playerDifficultyDiv.classList.add('difficulty-hard');
                }

                renderTable(data.stats);
                
                instructionTextP.textContent = "Guess the player based on their stats:";
                
                guessInput.value = "";
                guessInput.disabled = false;
                guessButton.disabled = false;
                hintButton.disabled = false;
                statsTable.style.display = 'table';
                
                instructionTextP.style.visibility = 'visible';
                instructionTextP.classList.add('fade-in');
                gameControls.style.visibility = 'visible';
                playerInfoContainer.style.visibility = 'visible';
                tableContainer.style.visibility = 'visible';
                gameControls.classList.add('fade-in');
                playerInfoContainer.classList.add('fade-in');
                tableContainer.classList.add('fade-in');
            } catch (error) {
                loader.style.display = 'none';
                feedbackP.textContent = "Failed to start the game. Please try again.";
                console.error("Start Game Error:", error);
            }
        }
        
        function renderTable(stats) {
            const tableBody = statsTable.querySelector("tbody");
            const tableHead = statsTable.querySelector("thead");
            tableBody.innerHTML = '';
            tableHead.innerHTML = '';
            if (!stats || stats.length === 0) return;
            let desiredOrder = ["Year", "G", "PPR_Rank_by_Pos", "PPR" ]; 
            if (stats[0].FantPos === "QB") {
                desiredOrder.push("PassYds", "PassTD", "RushYds", "RushTD");
            } else {
                desiredOrder.push("RushYds", "RushTD", "Rec", "RecYds", "RecTD");
            }
            const headerRow = document.createElement("tr");
            desiredOrder.forEach(headerText => {
                if (Object.keys(stats[0]).includes(headerText)) {
                    const th = document.createElement("th");
                    th.textContent = columnMap[headerText] || headerText;
                    headerRow.appendChild(th);
                }
            });
            tableHead.appendChild(headerRow);
            stats.forEach(statRow => {
                const row = document.createElement("tr");
                desiredOrder.forEach(headerText => {
                    if (Object.keys(stats[0]).includes(headerText)) {
                        const td = document.createElement("td");
                        const value = statRow[headerText] != null ? statRow[headerText] : 'N/A';
                        td.textContent = value;
                        if (headerText === 'PPR_Rank_by_Pos' && !isNaN(value)) {
                            const rank = parseInt(value, 10);
                            if (rank <= 12) td.classList.add('highlight-green');
                            else if (rank <= 24) td.classList.add('highlight-yellow');
                            else td.classList.add('highlight-red');
                        }
                        row.appendChild(td);
                    }
                });
                tableBody.appendChild(row);
            });
        }
        async function submitGuess() {
            const guess = guessInput.value.trim();
            if (!guess) return;
            guessInput.value = '';
            feedbackP.classList.remove('correct-guess', 'incorrect-guess');
            const response = await fetch('/guess', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ guess: guess }) });
            const data = await response.json();
            updateFeedbackAndGuesses(data);
            if (data.result === 'correct' || data.result === 'out_of_guesses') {
                endGame(data.result, data.guesses_taken);
            }
        }
        function handleHintOrGiveUp() { if (hintButton.textContent === 'Give Up?') giveUp(); else getHint(); }
        async function getHint() {
            feedbackP.classList.remove('correct-guess', 'incorrect-guess');
            const response = await fetch('/hint', { method: 'POST', headers: { 'Content-Type': 'application/json' } });
            const data = await response.json();
            updateFeedbackAndGuesses(data);
        }
        async function giveUp() {
            const response = await fetch('/give_up', { method: 'POST', headers: { 'Content-Type': 'application/json' } });
            const data = await response.json();
            updateFeedbackAndGuesses(data);
            endGame(data.result, data.guesses_taken);
        }
        function updateFeedbackAndGuesses(data) {
            feedbackP.innerHTML = data.message;
            if (data.hint) {
                feedbackP.innerHTML += `<br><br>${data.hint}`;
            }
            if (data.guesses_left !== undefined) {
                guessesLeftDisplay.textContent = `Guesses Left: ${data.guesses_left}`;
                guessesLeftDisplay.style.display = 'block';
            } else {
                guessesLeftDisplay.style.display = 'none';
            }
            if(data.result === 'correct') {
                feedbackP.classList.add('correct-guess');
            } else {
                feedbackP.classList.add('incorrect-guess');
            }
            if (data.is_last_guess) {
                hintButton.textContent = 'Give Up?';
            }
        }
        function endGame(result, guessesTaken) {
            guessInput.disabled = true;
            guessButton.disabled = true;
            hintButton.disabled = true;
            showShareModal(result, guessesTaken);
        }
        function showShareModal(result, guessesTaken) {
            const today = new Date();
            const dateString = `${today.getMonth() + 1}/${today.getDate()}/${today.getFullYear()}`;
            shareDate.textContent = dateString;
            let grid = '';
            let resultText = '';
            if (result === 'correct') {
                shareTitle.textContent = 'You got it!';
                resultText = `FumbLe ${dateString}\nðŸˆ ${guessesTaken}/4`;
                grid = 'â¬œ'.repeat(guessesTaken - 1) + 'ðŸŸ©' + 'â¬œ'.repeat(4-guessesTaken);
            } else {
                shareTitle.textContent = 'Nice try!';
                resultText = `FumbLe ${dateString}\nðŸˆ X/4`;
                grid = 'ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥';
            }
            shareGrid.textContent = grid;
            shareableText = `${resultText}\n${grid}`;
            shareModal.classList.add('active');
        }
        function copyResultsToClipboard() {
            const textArea = document.createElement('textarea');
            textArea.value = shareableText;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                copyResultsButton.textContent = 'Copied!';
                setTimeout(() => { copyResultsButton.textContent = 'Copy Results'; }, 2000);
            } catch (err) { console.error('Failed to copy text: ', err); }
            document.body.removeChild(textArea);
        }
        function debounce(func, delay) {
            return function(...args) {
                clearTimeout(debounceTimeout);
                debounceTimeout = setTimeout(() => func.apply(this, args), delay);
            };
        }
        async function handleGuessInput() {
            const query = guessInput.value.trim();
            if (query.length < 2) {
                suggestionsDiv.style.display = 'none';
                return;
            }
            const response = await fetch('/suggest_players', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ query: query }) });
            const players = await response.json();
            renderSuggestions(players);
        }
        function renderSuggestions(players) {
            suggestionsDiv.innerHTML = '';
            if (players && players.length > 0) {
                players.forEach(player => {
                    const suggestion = document.createElement('div');
                    suggestion.textContent = player;
                    suggestion.addEventListener('click', () => {
                        guessInput.value = player;
                        suggestionsDiv.style.display = 'none';
                    });
                    suggestionsDiv.appendChild(suggestion);
                });
                suggestionsDiv.style.display = 'block';
            } else {
                suggestionsDiv.style.display = 'none';
            }
        }
    </script>
</body>
</html>